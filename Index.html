<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s14 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">A Window Into Your Future Career</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Tailwind CSS CDN for easy styling --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom styles for the overall layout and "green screen wall" aesthetic */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s8">"Inter"</span><span class="s7">,</span><span class="s4"> </span><span class="s5">sans-serif</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Using Inter font as per instructions */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #f0f2f5</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light gray background for the page */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s4"> </span><span class="s9">100vh</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Ensure it takes full viewport height */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Padding around the main container */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-sizing:</span><span class="s4"> </span><span class="s5">border-box</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Include padding in element's total width and height */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Container mimicking the "green screen wall" with a border and light green background */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.career-window-container</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #e0ffe0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Very light green, almost pastel */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #4CAF50</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* A distinct green border */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">16px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners for the container */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0.15</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Soft shadow for depth */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">30px</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s4"> </span><span class="s9">900px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Maximum width for larger screens */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Full width on smaller screens */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Center items horizontally */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Center text within the container */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Styling for the canvas where the image will be drawn */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">canvas</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #ccc</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light gray border for the canvas */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Rounded corners for the canvas */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s4"> #fff</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* White background for the canvas itself */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Ensure canvas is responsive */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s4"> </span><span class="s5">auto</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Maintain aspect ratio */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s4"> </span><span class="s5">block</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Remove extra space below canvas */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s5">inset</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0</span><span class="s7">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Inner shadow for a subtle effect */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Loading spinner animation */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.loading-spinner</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0</span><span class="s7">,</span><span class="s4"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Light gray border for the spinner */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-left-color:</span><span class="s4"> #4CAF50</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Green color for the spinning part */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Make it a perfect circle */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">36px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">36px</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s5">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s5">linear</span><span class="s4"> </span><span class="s5">infinite</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Spin animation */</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s4"> </span><span class="s5">none</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Hidden by default, shown when loading */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Keyframe animation for the spinner */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">to</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Responsive adjustments for smaller screens */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>@</span><span class="s6">media</span><span class="s1"> (</span><span class="s6">max-width:</span><span class="s1"> 640</span><span class="s6">px</span><span class="s1">) </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>.career-window-container {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">20px</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s2">border-width:</span><span class="s4"> </span><span class="s9">4px</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Thinner border on small screens */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">h1</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">2.5rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Smaller title on small screens */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">.text-lg</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s7">;</span><span class="s4"> </span><span class="s1">/* Smaller label text */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">.py-3</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding-top:</span><span class="s1"> </span><span class="s9">0.75rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding-bottom:</span><span class="s1"> </span><span class="s9">0.75rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">.px-8</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding-left:</span><span class="s1"> </span><span class="s9">2rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">padding-right:</span><span class="s1"> </span><span class="s9">2rem</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"career-window-container"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-4xl sm:text-5xl font-extrabold text-gray-800 mb-8"</span><span class="s3">&gt;</span><span class="s4">A Window Into Your Future Career</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Photo Upload Section --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full max-w-md mb-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"photoUpload"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-lg font-medium text-gray-700 mb-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Upload Your Photo </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-sm text-gray-500"</span><span class="s3">&gt;</span><span class="s1">(Green Screen Background Recommended for Best Results)</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"file"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"photoUpload"</span><span class="s4"> </span><span class="s2">accept</span><span class="s3">=</span><span class="s1">"image/*"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Career Input Section --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full max-w-md mb-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">label</span><span class="s4"> </span><span class="s2">for</span><span class="s3">=</span><span class="s1">"careerInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"block text-lg font-medium text-gray-700 mb-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Enter Your Dream Career</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">label</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"careerInput"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"e.g., Astronaut, Chef, Doctor, Software Engineer"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Process Button --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"processButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 mb-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>Reveal My Future!</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Loading Indicator and Error Message --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loadingIndicator"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loading-spinner mb-8"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"errorMessage"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-red-600 text-center mb-4 hidden"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Output Canvas for the combined image --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"outputCanvas"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full"</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"600"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"400"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Get references to DOM elements</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> photoUpload </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'photoUpload'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> careerInput </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'careerInput'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> processButton </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'processButton'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> outputCanvas </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'outputCanvas'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> ctx </span><span class="s7">=</span><span class="s1"> outputCanvas</span><span class="s7">.</span><span class="s1">getContext</span><span class="s7">(</span><span class="s8">'2d'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> loadingIndicator </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingIndicator'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> errorMessage </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'errorMessage'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Set desired output dimensions for the canvas</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> </span><span class="s1">OUTPUT_WIDTH</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s12">600</span><span class="s7">;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> </span><span class="s1">OUTPUT_HEIGHT</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s12">400</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>outputCanvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_WIDTH</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>outputCanvas</span><span class="s7">.</span><span class="s1">height </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Function to display error messages</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showMessage</span><span class="s7">(</span><span class="s1">message</span><span class="s7">,</span><span class="s1"> isError </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>errorMessage</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> message</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isError</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-red-600'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'text-green-600'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'text-green-600'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'text-red-600'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Function to hide messages</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> hideMessage</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Function to show/hide loading spinner</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> setLoading</span><span class="s7">(</span><span class="s1">isLoading</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isLoading</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadingIndicator</span><span class="s7">.</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'block'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>processButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">true</span><span class="s7">;</span><span class="s1"> </span><span class="s14">// Disable button while loading</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>processButton</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'cursor-not-allowed'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loadingIndicator</span><span class="s7">.</span><span class="s1">style</span><span class="s7">.</span><span class="s1">display </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'none'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>processButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> </span><span class="s11">false</span><span class="s7">;</span><span class="s1"> </span><span class="s14">// Enable button</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>processButton</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'opacity-50'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'cursor-not-allowed'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Function to remove green screen from an image on a temporary canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> removeGreenScreen</span><span class="s7">(</span><span class="s1">image</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> tempCanvas </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'canvas'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> tempCtx </span><span class="s7">=</span><span class="s1"> tempCanvas</span><span class="s7">.</span><span class="s1">getContext</span><span class="s7">(</span><span class="s8">'2d'</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Set temporary canvas dimensions to match the image</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tempCanvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">=</span><span class="s1"> image</span><span class="s7">.</span><span class="s1">width</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tempCanvas</span><span class="s7">.</span><span class="s1">height </span><span class="s7">=</span><span class="s1"> image</span><span class="s7">.</span><span class="s1">height</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Draw the original image onto the temporary canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tempCtx</span><span class="s7">.</span><span class="s1">drawImage</span><span class="s7">(</span><span class="s1">image</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Get image data</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> imageData </span><span class="s7">=</span><span class="s1"> tempCtx</span><span class="s7">.</span><span class="s1">getImageData</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> tempCanvas</span><span class="s7">.</span><span class="s1">width</span><span class="s7">,</span><span class="s1"> tempCanvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> data </span><span class="s7">=</span><span class="s4"> imageData</span><span class="s7">.</span><span class="s4">data</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Pixel data: [R, G, B, A, R, G, B, A, ...]</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Green screen detection parameters (can be fine-tuned)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// These thresholds are designed to identify a range of green colors</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> minGreenHue </span><span class="s7">=</span><span class="s4"> </span><span class="s12">80</span><span class="s7">;</span><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s1">// Hue for green starts around 80 (out of 360)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> maxGreenHue </span><span class="s7">=</span><span class="s4"> </span><span class="s12">160</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Hue for green ends around 160</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> minSaturation </span><span class="s7">=</span><span class="s4"> </span><span class="s12">20</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Minimum saturation to consider it a color</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> minBrightness </span><span class="s7">=</span><span class="s1"> </span><span class="s12">20</span><span class="s7">;</span><span class="s1"> </span><span class="s14">// Minimum brightness</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> maxBrightness </span><span class="s7">=</span><span class="s4"> </span><span class="s12">230</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Maximum brightness (avoid pure white/black)</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1"> </span><span class="s7">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;</span><span class="s1"> data</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">+=</span><span class="s1"> </span><span class="s12">4</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> r </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">[</span><span class="s1">i</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> g </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">[</span><span class="s1">i </span><span class="s7">+</span><span class="s1"> </span><span class="s12">1</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> b </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">[</span><span class="s1">i </span><span class="s7">+</span><span class="s1"> </span><span class="s12">2</span><span class="s7">];</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Convert RGB to HSL for better green detection</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// HSL values are typically 0-360 for H, 0-100 for S and L</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> h</span><span class="s7">,</span><span class="s1"> s</span><span class="s7">,</span><span class="s1"> l </span><span class="s7">}</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> rgbToHsl</span><span class="s7">(</span><span class="s1">r</span><span class="s7">,</span><span class="s1"> g</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Check if the pixel is within the green hue range and has sufficient saturation/brightness</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">h </span><span class="s7">&gt;=</span><span class="s1"> minGreenHue </span><span class="s7">&amp;&amp;</span><span class="s1"> h </span><span class="s7">&lt;=</span><span class="s1"> maxGreenHue </span><span class="s7">&amp;&amp;</span><span class="s1"> s </span><span class="s7">&gt;=</span><span class="s1"> minSaturation </span><span class="s7">&amp;&amp;</span><span class="s1"> l </span><span class="s7">&gt;=</span><span class="s1"> minBrightness </span><span class="s7">&amp;&amp;</span><span class="s1"> l </span><span class="s7">&lt;=</span><span class="s1"> maxBrightness</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span>data</span><span class="s7">[</span><span class="s4">i </span><span class="s7">+</span><span class="s4"> </span><span class="s12">3</span><span class="s7">]</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s12">0</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Set alpha (transparency) to 0 for green pixels</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Put the modified image data back onto the temporary canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tempCtx</span><span class="s7">.</span><span class="s1">putImageData</span><span class="s7">(</span><span class="s1">imageData</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s4"> tempCanvas</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Return the canvas with the person cutout</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Helper function to convert RGB to HSL (Hue, Saturation, Lightness)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Used for more robust green screen detection than simple RGB thresholds</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> rgbToHsl</span><span class="s7">(</span><span class="s1">r</span><span class="s7">,</span><span class="s1"> g</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>r </span><span class="s7">/=</span><span class="s1"> </span><span class="s12">255</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>g </span><span class="s7">/=</span><span class="s1"> </span><span class="s12">255</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>b </span><span class="s7">/=</span><span class="s1"> </span><span class="s12">255</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> max </span><span class="s7">=</span><span class="s1"> </span><span class="s13">Math</span><span class="s7">.</span><span class="s1">max</span><span class="s7">(</span><span class="s1">r</span><span class="s7">,</span><span class="s1"> g</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> min </span><span class="s7">=</span><span class="s1"> </span><span class="s13">Math</span><span class="s7">.</span><span class="s1">min</span><span class="s7">(</span><span class="s1">r</span><span class="s7">,</span><span class="s1"> g</span><span class="s7">,</span><span class="s1"> b</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> h</span><span class="s7">,</span><span class="s1"> s</span><span class="s7">,</span><span class="s1"> l </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">max </span><span class="s7">+</span><span class="s1"> min</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">max </span><span class="s7">===</span><span class="s1"> min</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>h </span><span class="s7">=</span><span class="s1"> s </span><span class="s7">=</span><span class="s1"> </span><span class="s12">0</span><span class="s7">;</span><span class="s1"> </span><span class="s14">// achromatic</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> d </span><span class="s7">=</span><span class="s1"> max </span><span class="s7">-</span><span class="s1"> min</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>s </span><span class="s7">=</span><span class="s1"> l </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s12">0.5</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> d </span><span class="s7">/</span><span class="s1"> </span><span class="s7">(</span><span class="s12">2</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> max </span><span class="s7">-</span><span class="s1"> min</span><span class="s7">)</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> d </span><span class="s7">/</span><span class="s1"> </span><span class="s7">(</span><span class="s1">max </span><span class="s7">+</span><span class="s1"> min</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">switch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">max</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> r</span><span class="s7">:</span><span class="s1"> h </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">g </span><span class="s7">-</span><span class="s1"> b</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> d </span><span class="s7">+</span><span class="s1"> </span><span class="s7">(</span><span class="s1">g </span><span class="s7">&lt;</span><span class="s1"> b </span><span class="s7">?</span><span class="s1"> </span><span class="s12">6</span><span class="s1"> </span><span class="s7">:</span><span class="s1"> </span><span class="s12">0</span><span class="s7">);</span><span class="s1"> </span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> g</span><span class="s7">:</span><span class="s1"> h </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">b </span><span class="s7">-</span><span class="s1"> r</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> d </span><span class="s7">+</span><span class="s1"> </span><span class="s12">2</span><span class="s7">;</span><span class="s1"> </span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> b</span><span class="s7">:</span><span class="s1"> h </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s1">r </span><span class="s7">-</span><span class="s1"> g</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> d </span><span class="s7">+</span><span class="s1"> </span><span class="s12">4</span><span class="s7">;</span><span class="s1"> </span><span class="s11">break</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>h </span><span class="s7">/=</span><span class="s1"> </span><span class="s12">6</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> h</span><span class="s7">:</span><span class="s4"> h </span><span class="s7">*</span><span class="s4"> </span><span class="s12">360</span><span class="s7">,</span><span class="s4"> s</span><span class="s7">:</span><span class="s4"> s </span><span class="s7">*</span><span class="s4"> </span><span class="s12">100</span><span class="s7">,</span><span class="s4"> l</span><span class="s7">:</span><span class="s4"> l </span><span class="s7">*</span><span class="s4"> </span><span class="s12">100</span><span class="s4"> </span><span class="s7">};</span><span class="s4"> </span><span class="s1">// Return in degrees and percentage</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Event listener for the process button</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>processButton</span><span class="s7">.</span><span class="s1">addEventListener</span><span class="s7">(</span><span class="s8">'click'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span>hideMessage</span><span class="s7">();</span><span class="s4"> </span><span class="s1">// Clear any previous messages</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setLoading</span><span class="s7">(</span><span class="s11">true</span><span class="s7">);</span><span class="s1"> </span><span class="s14">// Show loading spinner</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> file </span><span class="s7">=</span><span class="s1"> photoUpload</span><span class="s7">.</span><span class="s1">files</span><span class="s7">[</span><span class="s12">0</span><span class="s7">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> careerText </span><span class="s7">=</span><span class="s1"> careerInput</span><span class="s7">.</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">file</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>showMessage</span><span class="s7">(</span><span class="s8">'Please upload a photo.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">careerText</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>showMessage</span><span class="s7">(</span><span class="s1">'Please enter a career you are interested in.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// 1. Read the uploaded photo as a Data URL (Base64)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> reader </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">FileReader</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reader</span><span class="s7">.</span><span class="s1">readAsDataURL</span><span class="s7">(</span><span class="s1">file</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reader</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s7">(</span><span class="s1">e</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> userImage </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Image</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>userImage</span><span class="s7">.</span><span class="s1">src </span><span class="s7">=</span><span class="s1"> e</span><span class="s7">.</span><span class="s1">target</span><span class="s7">.</span><span class="s1">result</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>userImage</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">// 2. Remove green screen from the user's photo</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s1"> personCanvas </span><span class="s7">=</span><span class="s1"> removeGreenScreen</span><span class="s7">(</span><span class="s1">userImage</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s1">// 3. Generate a background image using Gemini API</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s4"> prompt </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Generate a realistic background image for a professional in the field of '</span><span class="s7">${</span><span class="s4">careerText</span><span class="s7">}</span><span class="s1">'. The image should be suitable for a portrait, with a resolution of around </span><span class="s7">${</span><span class="s13">OUTPUT_WIDTH</span><span class="s7">}</span><span class="s1">x</span><span class="s7">${</span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">}</span><span class="s1"> pixels. Focus on environmental details that suggest the career, like an office, a spaceship interior, a kitchen, a hospital, etc.`</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s1"> payload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> instances</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> prompt</span><span class="s7">:</span><span class="s1"> prompt </span><span class="s7">},</span><span class="s1"> parameters</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s8">"sampleCount"</span><span class="s7">:</span><span class="s1"> </span><span class="s12">1</span><span class="s1"> </span><span class="s7">}</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s4"> apiKey </span><span class="s7">=</span><span class="s4"> </span><span class="s8">""</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// Canvas will provide this API key at runtime</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s4"> apiUrl </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=</span><span class="s7">${</span><span class="s4">apiKey</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> fetch</span><span class="s7">(</span><span class="s1">apiUrl</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>method</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'POST'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>headers</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s8">'Content-Type'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'application/json'</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>body</span><span class="s7">:</span><span class="s1"> </span><span class="s13">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">payload</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">response</span><span class="s7">.</span><span class="s1">ok</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s11">const</span><span class="s1"> errorData </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s11">throw</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Error</span><span class="s7">(</span><span class="s8">`Image generation failed: </span><span class="s7">${</span><span class="s1">errorData</span><span class="s7">.</span><span class="s1">error</span><span class="s7">?.</span><span class="s1">message </span><span class="s7">||</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">statusText</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">const</span><span class="s1"> result </span><span class="s7">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">result</span><span class="s7">.</span><span class="s1">predictions </span><span class="s7">&amp;&amp;</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">predictions</span><span class="s7">.</span><span class="s1">length </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s1"> </span><span class="s7">&amp;&amp;</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">predictions</span><span class="s7">[</span><span class="s12">0</span><span class="s7">].</span><span class="s1">bytesBase64Encoded</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s11">const</span><span class="s1"> imageUrl </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`data:image/png;base64,</span><span class="s7">${</span><span class="s1">result</span><span class="s7">.</span><span class="s1">predictions</span><span class="s7">[</span><span class="s12">0</span><span class="s7">].</span><span class="s1">bytesBase64Encoded</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s11">const</span><span class="s1"> backgroundImage </span><span class="s7">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Image</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>backgroundImage</span><span class="s7">.</span><span class="s1">src </span><span class="s7">=</span><span class="s1"> imageUrl</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>backgroundImage</span><span class="s7">.</span><span class="s1">onload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s1">// 4. Composite the images on the output canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>ctx</span><span class="s7">.</span><span class="s1">clearRect</span><span class="s7">(</span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s13">OUTPUT_WIDTH</span><span class="s7">,</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">);</span><span class="s1"> </span><span class="s14">// Clear canvas</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s1">// Draw the generated background first, scaled to fill the canvas</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>ctx</span><span class="s7">.</span><span class="s1">drawImage</span><span class="s7">(</span><span class="s1">backgroundImage</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s12">0</span><span class="s7">,</span><span class="s1"> </span><span class="s13">OUTPUT_WIDTH</span><span class="s7">,</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s1">// Draw the person cutout on top of the background</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s1">// Calculate aspect ratio to fit the person without distortion</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">const</span><span class="s1"> personAspectRatio </span><span class="s7">=</span><span class="s1"> personCanvas</span><span class="s7">.</span><span class="s1">width </span><span class="s7">/</span><span class="s1"> personCanvas</span><span class="s7">.</span><span class="s1">height</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">let</span><span class="s1"> drawWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_WIDTH</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">let</span><span class="s1"> drawHeight </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_WIDTH</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> personAspectRatio</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">drawHeight </span><span class="s7">&gt;</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                        </span>drawHeight </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                        </span>drawWidth </span><span class="s7">=</span><span class="s1"> </span><span class="s13">OUTPUT_HEIGHT</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> personAspectRatio</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s7">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">const</span><span class="s1"> xOffset </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s13">OUTPUT_WIDTH</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> drawWidth</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s11">const</span><span class="s1"> yOffset </span><span class="s7">=</span><span class="s1"> </span><span class="s7">(</span><span class="s13">OUTPUT_HEIGHT</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> drawHeight</span><span class="s7">)</span><span class="s1"> </span><span class="s7">/</span><span class="s1"> </span><span class="s12">2</span><span class="s7">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>ctx</span><span class="s7">.</span><span class="s1">drawImage</span><span class="s7">(</span><span class="s1">personCanvas</span><span class="s7">,</span><span class="s1"> xOffset</span><span class="s7">,</span><span class="s1"> yOffset</span><span class="s7">,</span><span class="s1"> drawWidth</span><span class="s7">,</span><span class="s1"> drawHeight</span><span class="s7">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>showMessage</span><span class="s7">(</span><span class="s8">'Your future career window is ready!'</span><span class="s7">,</span><span class="s1"> </span><span class="s11">false</span><span class="s7">);</span><span class="s1"> </span><span class="s14">// Success message</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                    </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>backgroundImage</span><span class="s7">.</span><span class="s1">onerror </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s11">throw</span><span class="s4"> </span><span class="s11">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s7">(</span><span class="s1">'Failed to load generated background image.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s11">throw</span><span class="s4"> </span><span class="s11">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s7">(</span><span class="s1">'No image was generated. Please try again with a different career.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>showMessage</span><span class="s7">(</span><span class="s8">`Error during image processing or generation: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>userImage</span><span class="s7">.</span><span class="s1">onerror </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                        </span>showMessage</span><span class="s7">(</span><span class="s1">'Failed to load your uploaded photo. Please ensure it is a valid image file.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reader</span><span class="s7">.</span><span class="s1">onerror </span><span class="s7">=</span><span class="s1"> </span><span class="s7">()</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>showMessage</span><span class="s7">(</span><span class="s1">'Failed to read your photo file.'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>showMessage</span><span class="s7">(</span><span class="s8">`An unexpected error occurred: </span><span class="s7">${</span><span class="s1">error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setLoading</span><span class="s7">(</span><span class="s11">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">});</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
</body>
</html>
